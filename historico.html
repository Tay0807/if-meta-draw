<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hist√≥rico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="assets/img/ifLogo.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        .btn-opcao {
            margin: 0 5px;
            background-color: var(--color-verdePrincipal);
            color: white;
        }

        .btn-opcao.active {
            outline: 2px solid #1b5e20;
        }

        .tabela-metas td,
        .tabela-metas th {
            vertical-align: middle;
            text-align: center;
        }

        .status-concluido {
            color: rgb(8, 217, 8);
            font-weight: bold;
        }

        .status-pendente {
            color: red;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <!-- Navbar para mobile -->
    <nav class="navbar lateral d-md-none">
        <div class="container-fluid">
            <button class="btn lateral" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu">
                ‚ò∞ Menu
            </button>
        </div>
    </nav>

    <div class="d-flex flex-column flex-md-row min-vh-100">

        <!-- Menu lateral para desktop -->
        <section class="lateral p-3 d-none d-md-block" style="min-width: 200px;">
            <h2>IF META-DRAW</h2>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link text-white" href="index.html"><i class="bi bi-house"></i> Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="metas.html"><i class="bi bi-list-check"></i> Suas metas</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white d-flex align-items-center" href="#" id="frases">
                        <i class="bi bi-lightning-charge me-2"></i> Motiva√ß√£o
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white" href="historico.html"><i class="bi bi-clock-history"></i> Hist√≥rico</a>
                </li>
            </ul>
        </section>

        <!-- Menu lateral mobile -->
        <div class="offcanvas offcanvas-start lateral" tabindex="-1" id="offcanvasMenu">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title">IF META-DRAW</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link text-white" href="index.html"><i class="bi bi-house"></i> Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="metas.html"><i class="bi bi-list-check"></i> Suas metas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white d-flex align-items-center" href="#" id="frases">
                            <i class="bi bi-lightning-charge me-2"></i> Motiva√ß√£o
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="historico.html"><i class="bi bi-clock-history"></i> Hist√≥rico</a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Conte√∫do principal -->
        <section class="flex-fill bg-white p-4">
            <!-- T√≠tulo com linha -->
            <div class="d-flex align-items-center mb-4">
                <span class="me-3 mb-0 fw-light" style="color: var(--color-verdePrincipal); font-size: 1rem;">
                    Hist√≥rico
                </span>
                <div class="flex-grow-1 border-bottom" style="border-color: var(--color-verdePrincipal) !important;"></div>
            </div>

            <div class="container py-5">
                <h2 class="texto_container_principal">Hist√≥rico de Metas</h2>

                <!-- Bot√µes de troca -->
                <div class="text-center mb-4">
                    <button class="btn btn-opcao active" onclick="atualizarGrafico('pie', this)">üçï Pizza</button>
                    <button class="btn btn-opcao" onclick="atualizarGrafico('bar', this)">üìä Barras</button>
                </div>

                <!-- Gr√°fico -->
                <div class="row mb-5">
                    <div class="col-md-6 offset-md-3">
                        <canvas id="graficoMetas"></canvas>
                    </div>
                </div>

                <!-- Tabela -->
                <div class="table-container">
                    <table class="table table-bordered tabela-metas">
                        <thead class="table-light">
                            <tr>
                                <th>Meta</th>
                                <th>Status</th>
                                <th>Prazo</th>
                                <th>Mat√©ria</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Estudar gr√°ficos</td>
                                <td class="status-concluido">Conclu√≠da</td>
                                <td>10/06/2025</td>
                                <td>Matem√°tica</td>
                            </tr>
                            <tr>
                                <td>Ler cap√≠tulo 3</td>
                                <td class="status-pendente">Pendente</td>
                                <td>15/06/2025</td>
                                <td>Hist√≥ria</td>
                            </tr>
                            <tr>
                                <td>Trabalho de ci√™ncias</td>
                                <td class="status-concluido">Conclu√≠da</td>
                                <td>09/06/2025</td>
                                <td>Ci√™ncias</td>
                            </tr>
                            <tr>
                                <td>Exerc√≠cios de ingl√™s</td>
                                <td class="status-pendente">Pendente</td>
                                <td>18/06/2025</td>
                                <td>Ingl√™s</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>

    <!-- Logo IFSP fixa -->
    <img src="assets/img/ifLogo.png" alt="Logo IFSP Birigui" class="d-none d-md-block position-fixed"
        style="bottom: 10px; right: 10px; width: 120px; z-index: 999;">

    <!-- Scripts Bootstrap + Gr√°fico -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="assets/js/script.js"></script>

    <script>
        const ctx = document.getElementById('graficoMetas').getContext('2d');
        let tipoAtual = 'pie';

        const dadosGrafico = {
            labels: ['Conclu√≠das', 'Pendentes'],
            datasets: [{
                data: [2, 2],
                backgroundColor: ['#2e7d32', '#e74c3c'],
                borderWidth: 1
            }]
        };

        let grafico = new Chart(ctx, {
            type: tipoAtual,
            data: dadosGrafico,
            options: {
                plugins: {
                    legend: { position: 'bottom' }
                }
            }
        });

        function atualizarGrafico(tipo, btn) {
            if (grafico) grafico.destroy();

            grafico = new Chart(ctx, {
                type: tipo,
                data: dadosGrafico,
                options: {
                    plugins: {
                        legend: { position: tipo === 'pie' ? 'bottom' : 'top' }
                    },
                    responsive: true,
                    scales: tipo === 'bar' ? {
                        y: {
                            beginAtZero: true,
                            ticks: { stepSize: 1 }
                        }
                    } : {}
                }
            });

            // Bot√£o ativo
            document.querySelectorAll('.btn-opcao').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }
    </script>

</body>

</html>
